{"version":3,"file":"index.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/utils/emoji-utils.js","../src/utils/input-event-utils.js","../node_modules/string-replace-to-array/string-replace-to-array.js","../node_modules/react-easy-emoji/lib/replaceEmoji.js","../node_modules/react-easy-emoji/lib/makeTwemojiRenderer.js","../node_modules/react-easy-emoji/index.js","../src/hooks/use-sanitize.js","../src/hooks/use-expose.js","../src/hooks/use-emit.js","../src/utils/observer.js","../src/hooks/use-event-listeners.js","../src/hooks/user-pollute.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/* eslint-disable valid-jsdoc */\n// @ts-check\n\nexport const TRANSPARENT_GIF =\n  \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\n\nexport const EMOJI_STYLE = \"\";\n\n/**\n * Replace all text with emoji with an image html tag\n * @param {string} text\n * @return {string}\n */\nexport function replaceAllTextEmojis(text) {\n  let allEmojis = getAllEmojisFromText(text);\n\n  if (allEmojis) {\n    allEmojis = [...new Set(allEmojis)]; // remove duplicates\n\n    allEmojis.forEach(emoji => {\n      text = replaceAll(text, emoji, getInputEmojiHTML('', emoji));\n    });\n  }\n\n  return text;\n}\n\n/**\n * Replace all occurrencies in a string\n * @param {string} str\n * @param {string} find\n * @param {string} replace\n * @return {string}\n */\nfunction replaceAll(str, find, replace) {\n  return str.replace(new RegExp(find, \"g\"), replace);\n}\n\n/**\n * Get all emojis from the text\n * @param {string} text\n * @return {string[]}\n */\nfunction getAllEmojisFromText(text) {\n  return text.match(\n    /(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*/g\n  );\n}\n\n// eslint-disable-next-line valid-jsdoc\n/**\n *\n * @param { import(\"../types/types\").EmojiMartItem } emoji\n * @return {string}\n */\nexport function getImageEmoji(emoji) {\n  /** @type {HTMLElement | null} */\n  const emojiPickerEl = document.querySelector('em-emoji-picker')\n\n  if (!emojiPickerEl) {\n    return getInputEmojiNativeHTML(emoji.native)\n  }\n\n  /** @type {HTMLSpanElement | null=} */\n  const emojiSpanEl = emojiPickerEl?.shadowRoot?.querySelector(`[title=\"${emoji.name}\"] > span > span`)\n\n  if (!emojiSpanEl) {\n    return getInputEmojiNativeHTML(emoji.native)\n  }\n\n  const style = replaceAll(emojiSpanEl.style.cssText, '\"', \"'\");\n\n  return getInputEmojiHTML(style, emoji.native);\n}\n\n// eslint-disable-next-line valid-jsdoc\n/**\n *\n * @param {string} style\n * @param {string} emoji\n * @returns\n */\nfunction getInputEmojiHTML(style, emoji) {\n  return `<img style=\"${style}; display: inline-block\" data-emoji=\"${emoji}\" src=\"${TRANSPARENT_GIF}\" />`;\n}\n\n/**\n * \n * @param {string} emoji \n * @returns \n */\nfunction getInputEmojiNativeHTML(emoji) {\n  return `<span class=\"width: 18px; height: 18px; display: inline-block; margin: 0 1px;\">${emoji}</span>`;\n}\n\n/**\n *\n * @param {string} html\n * @return {string}\n */\nexport function replaceAllTextEmojiToString(html) {\n  const container = document.createElement(\"div\");\n  container.innerHTML = html;\n\n  const images = Array.prototype.slice.call(container.querySelectorAll(\"img\"));\n\n  images.forEach(image => {\n    container.innerHTML = container.innerHTML.replace(\n      image.outerHTML,\n      image.dataset.emoji\n    );\n  });\n\n  return container.innerHTML;\n}\n","// @ts-check\n\nimport {\n  getImageEmoji,\n  replaceAllTextEmojis,\n  replaceAllTextEmojiToString,\n} from \"./emoji-utils\";\n\n/**\n * Handle copy of current selected text\n * @param {React.ClipboardEvent} event\n */\nexport function handleCopy(event) {\n  const selectedText = window.getSelection();\n\n  if (selectedText === null) {\n    return;\n  }\n\n  let container = document.createElement(\"div\");\n\n  for (let i = 0, len = selectedText.rangeCount; i < len; ++i) {\n    container.appendChild(selectedText.getRangeAt(i).cloneContents());\n  }\n\n  container = replaceEmojiToString(container);\n\n  event.clipboardData.setData(\"text\", container.innerText);\n  event.preventDefault();\n}\n\n/** @type {Range|undefined} */\n/** @type {Range|undefined} */\nlet currentRangeCached;\n\n/**\n * Caches the current text selection range\n */\nexport function cacheCurrentRange() {\n  const selection = window.getSelection();\n  if (!selection.rangeCount || (selection?.anchorNode['className'] !== 'react-input-emoji--input' && selection.anchorNode.parentNode['className'] !== 'react-input-emoji--input')) return;\n  const range = selection.getRangeAt(0);\n\n  currentRangeCached = range.cloneRange();\n}\n\n/**\n * Clears the cached text selection range\n */\nexport function cleanCurrentRange() {\n  currentRangeCached = undefined;\n}\n\n/**\n * @param {string} html - HTML string to be pasted at the caret position\n */\nexport function handlePasteHtmlAtCaret(html) {\n  let sel;\n  let range;\n  if (window.getSelection) {\n    // IE9 and non-IE\n    sel = window.getSelection();\n\n    if (sel === null) return;\n\n    if (sel.getRangeAt && sel.rangeCount) {\n      range = currentRangeCached ?? sel.getRangeAt(0);\n      range.deleteContents();\n\n      // Range.createContextualFragment() would be useful here but is\n      // non-standard and not supported in all browsers (IE9, for one)\n      const el = document.createElement(\"div\");\n      el.innerHTML = html;\n      const frag = document.createDocumentFragment();\n      let node;\n      let lastNode;\n      while ((node = el.firstChild)) {\n        lastNode = frag.appendChild(node);\n      }\n      range.insertNode(frag);\n\n      // Preserve the selection\n      if (lastNode) {\n        range = range.cloneRange();\n        currentRangeCached = range\n        range.setStartAfter(lastNode);\n        range.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(range);\n      }\n    }\n  }\n}\n\n/**\n * Replace emoji img to its string value\n * @param {HTMLDivElement} container\n * @return {HTMLDivElement}\n */\nfunction replaceEmojiToString(container) {\n  const images = Array.prototype.slice.call(container.querySelectorAll(\"img\"));\n\n  images.forEach((image) => {\n    image.outerHTML = image.dataset.emoji;\n  });\n\n  return container;\n}\n\n/**\n * Handle past on input\n * @param {React.ClipboardEvent} event\n */\nexport function handlePaste(event) {\n  event.preventDefault();\n  let content;\n  if (event.clipboardData) {\n    content = event.clipboardData.getData(\"text/plain\");\n    content = replaceAllTextEmojis(content);\n    document.execCommand(\"insertHTML\", false, content);\n  }\n}\n\n/**\n * @typedef {object} HandleKeyDownOptions\n * @property {HTMLDivElement} placeholderEl\n * @property {number} maxLength\n * @property {HTMLDivElement} inputEl\n * @property {React.MutableRefObject<string>} cleanedTextRef\n * @property {React.MutableRefObject<HTMLDivElement>} textInputRef\n * @property {boolean} cleanOnEnter\n * @property {function(): void} emitChange\n * @property {(function(string): void)=} onEnter\n * @property {(function(KeyboardEvent): void)=} onKeyDown\n * @property {(function(string): void)} updateHTML\n */\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * @typedef {Object} HandleSelectEmojiProps\n * @property {import(\"../types/types\").EmojiMartItem} emoji\n * @property {React.MutableRefObject<import('../text-input').Ref>} textInputRef\n * @property {boolean} keepOpened\n * @property {() => void} toggleShowPicker\n * @property {number=} maxLength\n */\n\n/**\n *\n * @param {HandleSelectEmojiProps} props\n */\nexport function handleSelectEmoji({\n  emoji,\n  textInputRef,\n  keepOpened,\n  toggleShowPicker,\n  maxLength,\n}) {\n  if (\n    typeof maxLength !== \"undefined\" &&\n    totalCharacters(textInputRef.current) >= maxLength\n  ) {\n    return;\n  }\n\n  textInputRef.current.appendContent(getImageEmoji(emoji));\n\n  if (!keepOpened) {\n    toggleShowPicker();\n  }\n}\n\n/**\n *\n * @param {{text: string, html: string}} props\n * @return {number}\n */\nexport function totalCharacters({ text, html }) {\n  const textCount = text.length;\n  const emojisCount = (html.match(/<img/g) || []).length;\n\n  return textCount + emojisCount;\n}\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * Handle keyup event\n * @param {() => void} emitChange\n * @param {(event: KeyboardEvent) => void} onKeyDownMention\n * @param {React.MutableRefObject<string>} cleanedTextRef\n * @param {React.MutableRefObject<HTMLDivElement>} textInputRef\n * @return {(event: KeyboardEvent) => void}\n */\nexport function handleKeyup(\n  emitChange,\n  onKeyDownMention,\n  cleanedTextRef,\n  textInputRef,\n) {\n  return (event) => {\n    const text = replaceAllTextEmojiToString(textInputRef.current.innerHTML);\n    cleanedTextRef.current = text;\n    emitChange();\n    onKeyDownMention(event);\n  };\n}\n\n/**\n * Handle focus event\n * @param {function(FocusEvent): void} onFocus\n * @return {function(FocusEvent): void}\n */\nexport function handleFocus(onFocus) {\n  return (event) => {\n    onFocus(event);\n  };\n}\n\n/**\n * Set caret to the end of text value\n * @param {React.MutableRefObject<HTMLDivElement| null>} input\n */\nexport function moveCaretToEnd(input) {\n  let range;\n  let selection;\n  if (document.createRange && input.current) {\n    range = document.createRange();\n    range.selectNodeContents(input.current);\n    range.collapse(false);\n    selection = window.getSelection();\n    if (selection) {\n      selection.removeAllRanges();\n      selection.addRange(range);\n    }\n  }\n}\n/**\n *\n * @param {HTMLDivElement} inputDiv\n * @return {string}\n */\nexport function removeHtmlExceptBr(inputDiv) {\n  const temp = inputDiv.innerHTML.replaceAll(/<br\\s*\\/?>/gi, \"[BR]\"); // temporarily replace <br> with placeholder\n  const tempContainer = document.createElement(\"div\");\n  tempContainer.innerHTML = temp;\n  const stripped = tempContainer.innerText; // strip all html tags\n  const final = stripped.replaceAll(/\\[BR\\]/gi, \"</br>\"); // replace placeholders with <br>\n  return final;\n}\n\n/**\n * \n * @param {*} range \n * @returns \n */\nexport function getSelectionStart(range) {\n  let node = range.startContainer;\n  let offset = range.startOffset;\n\n  // Handle cases where the selection start node is not a text node\n  if (node.nodeType !== Node.TEXT_NODE) {\n    while (node.nodeType !== Node.TEXT_NODE) {\n      node = node.nextSibling;\n      if (!node) break;\n    }\n    if (!node) {\n      node = range.commonAncestorContainer;\n      while (node.nodeType !== Node.TEXT_NODE) {\n        node = node.firstChild;\n      }\n    }\n    offset = 0;\n  }\n\n  return { node, offset };\n}\n\n/**\n * \n * @return {Object} cursor\n */\nexport function getCursor() {\n  const selection = window.getSelection();\n  const range = selection.getRangeAt(0);\n  const selectionStart = getSelectionStart(range);\n\n  return  {selection, range, selectionStart}\n}\n\n/**\n *\n */\nexport function addLineBreak() {\n  const { selection, range, selectionStart } = getCursor()\n\n  // If cursor is at the end of the text content, add one more line break\n  if (\n    selection.isCollapsed &&\n    selectionStart.offset === selectionStart.node.textContent.length\n  ) {\n    const br = document.createElement(\"br\");\n    range.insertNode(br);\n    range.setStartAfter(br);\n    range.setEndAfter(br);\n    selection.removeAllRanges();\n    selection.addRange(range);\n\n    const br2 = document.createElement(\"br\");\n    range.insertNode(br2);\n    range.setStartAfter(br2);\n    range.setEndAfter(br2);\n    selection.removeAllRanges();\n    selection.addRange(range);\n  } else {\n    const br = document.createElement(\"br\");\n    range.insertNode(br);\n    range.setStartAfter(br);\n    range.setEndAfter(br);\n    selection.removeAllRanges();\n    selection.addRange(range);\n    // Set cursor position right before the first letter after the line break\n    if (\n      selectionStart.node.nextSibling &&\n      selectionStart.node.nextSibling.nodeType === Node.TEXT_NODE\n    ) {\n      range.setStart(selectionStart.node.nextSibling, 1);\n      range.setEnd(selectionStart.node.nextSibling, 1);\n    }\n    selection.removeAllRanges();\n    selection.addRange(range);\n  }\n}\n","// Inspiration: https://github.com/facebook/react/issues/3386\n\nfunction replace (string, regexpOrSubstr, newValueOrFn, globalOffset) {\n\tif (typeof string !== 'string') throw new Error('First param must be a string')\n\tif (typeof regexpOrSubstr !== 'string' && !(regexpOrSubstr instanceof RegExp)) throw new Error('Second param must be a string pattern or a regular expression')\n\n\tvar fn = (typeof regexpOrSubstr === 'string') ? replaceUsingString : replaceUsingRegexp\n\n\treturn fn(string, regexpOrSubstr, newValueOrFn, globalOffset)\n}\n\nfunction replaceUsingString (string, patternString, newValueOrFn, globalOffset) {\n\tvar index = string.indexOf(patternString)\n\n\tif (index >= 0) {\n\t\tvar arr = []\n\t\tvar endIndex = index + patternString.length\n\n\t\tif (index > 0) {\n\t\t\tarr.push(string.substring(0, index))\n\t\t}\n\n\t\tarr.push(\n\t\t\t(typeof newValueOrFn === 'function') ?\n\t\t\t\tnewValueOrFn(\n\t\t\t\t\tstring.substring(index, endIndex),\n\t\t\t\t\tindex + globalOffset,\n\t\t\t\t\tstring\n\t\t\t\t) :\n\t\t\t\tnewValueOrFn\n\t\t)\n\n\t\tif (endIndex < string.length) {\n\t\t\tarr.push(string.substring(endIndex))\n\t\t}\n\n\t\treturn arr\n\t} else {\n\t\treturn [string]\n\t}\n}\n\nfunction replaceUsingRegexp (string, regexp, newValueOrFn, globalOffset) {\n\tvar output = []\n\n\tvar replacerIsFn = (typeof newValueOrFn === 'function')\n\n\tvar storedLastIndex = regexp.lastIndex\n\tregexp.lastIndex = 0\n\n\tvar result\n\tvar lastIndex = 0\n\twhile (result = regexp.exec(string)) {\n\t\tvar index = result.index\n\n\t\tif (result[0] === '') {\n\t\t\t// When the regexp is an empty string\n\t\t\t// we still want to advance our cursor to the next item.\n\t\t\t// This is the behavior of String.replace.\n\t\t\tregexp.lastIndex++\n\t\t}\n\n\t\tif (index !== lastIndex) {\n\t\t\toutput.push(string.substring(lastIndex, index))\n\t\t}\n\n\t\tvar match = result[0]\n\t\tlastIndex = index + match.length\n\t\t\n\t\tvar out = replacerIsFn ?\n\t\t\tnewValueOrFn.apply(this, result.concat(index + globalOffset, result.input)) :\n\t\t\tnewValueOrFn\n\t\toutput.push(out)\n\n\t\tif (!regexp.global) {\n\t\t\tbreak\n\t\t}\n\t}\n\n\tif (lastIndex < string.length) {\n\t\toutput.push(string.substring(lastIndex))\n\t}\n\n\tregexp.lastIndex = storedLastIndex\n\treturn output\n}\n\nmodule.exports = function stringReplaceToArray (stringOrArray, regexpOrSubstr, newSubStrOrFn) {\n\tif (typeof stringOrArray === 'string') {\n\t\treturn replace(stringOrArray, regexpOrSubstr, newSubStrOrFn, 0)\n\t} else if (!Array.isArray(stringOrArray) || !stringOrArray[0]) {\n\t\tthrow new TypeError('First argument must be an array or non-empty string')\n\t} else {\n\t\tvar len = stringOrArray.length\n\t\tvar output = []\n\t\tvar globalOffset = 0\n\t\tfor (var i = 0; i < len; ++i) {\n\t\t\tvar arrayItem = stringOrArray[i]\n\t\t\tif (typeof arrayItem === 'string') {\n\t\t\t\toutput.push.apply(output, replace(arrayItem, regexpOrSubstr, newSubStrOrFn, globalOffset))\n\t\t\t\tglobalOffset += arrayItem.length\n\t\t\t} else {\n\t\t\t\toutput.push(arrayItem)\n\t\t\t}\n\t\t}\n\t\treturn output\n\t}\n}","var replaceStringToArray = require('string-replace-to-array')\n\n// This is based off of https://github.com/twitter/twemoji/blob/gh-pages/2/twemoji.js\n//\n// Ideally we'd use twemoji instead of replicating its logic.\n// The reason we can't is that we need to run our own replace.\n//\n// We could use it for most things (by essentially running twemoji.parse for each\n// regex match, and reading the code from the callback), but the one thing we'd always need\n// to copy and paste into this file is the regex since we need it to run the replace.\n//\n// Another option is to fork twemoji and expose a method in it that could help us, then\n// ask them to pull it in.\n//\n\n// RegExp based on emoji's official Unicode standards\n// http://www.unicode.org/Public/UNIDATA/EmojiSources.txt\nvar re = /(?:\\ud83d\\udc68\\ud83c\\udffb\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udffc\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udffd\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udffe\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udfff\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffb\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffb\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffc\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffc\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffd\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffd\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffe\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffe\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udfff\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udfff\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83e\\uddd1\\ud83c\\udffb\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83e\\uddd1\\ud83c[\\udffc-\\udfff]|\\ud83e\\uddd1\\ud83c\\udffc\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83e\\uddd1\\ud83c[\\udffb\\udffd-\\udfff]|\\ud83e\\uddd1\\ud83c\\udffd\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83e\\uddd1\\ud83c[\\udffb\\udffc\\udffe\\udfff]|\\ud83e\\uddd1\\ud83c\\udffe\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udffd\\udfff]|\\ud83e\\uddd1\\ud83c\\udfff\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udffe]|\\ud83d\\udc68\\ud83c\\udffb\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udffb\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffc-\\udfff]|\\ud83d\\udc68\\ud83c\\udffc\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udffc\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffb\\udffd-\\udfff]|\\ud83d\\udc68\\ud83c\\udffd\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udffd\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffb\\udffc\\udffe\\udfff]|\\ud83d\\udc68\\ud83c\\udffe\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udffe\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udffd\\udfff]|\\ud83d\\udc68\\ud83c\\udfff\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\ud83c\\udfff\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udffe]|\\ud83d\\udc69\\ud83c\\udffb\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffb\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffb\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffc-\\udfff]|\\ud83d\\udc69\\ud83c\\udffb\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc69\\ud83c[\\udffc-\\udfff]|\\ud83d\\udc69\\ud83c\\udffc\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffc\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffc\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffb\\udffd-\\udfff]|\\ud83d\\udc69\\ud83c\\udffc\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc69\\ud83c[\\udffb\\udffd-\\udfff]|\\ud83d\\udc69\\ud83c\\udffd\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffd\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffd\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffb\\udffc\\udffe\\udfff]|\\ud83d\\udc69\\ud83c\\udffd\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc69\\ud83c[\\udffb\\udffc\\udffe\\udfff]|\\ud83d\\udc69\\ud83c\\udffe\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffe\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udffe\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udffd\\udfff]|\\ud83d\\udc69\\ud83c\\udffe\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udffd\\udfff]|\\ud83d\\udc69\\ud83c\\udfff\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udfff\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc69\\ud83c\\udfff\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc68\\ud83c[\\udffb-\\udffe]|\\ud83d\\udc69\\ud83c\\udfff\\u200d\\ud83e\\udd1d\\u200d\\ud83d\\udc69\\ud83c[\\udffb-\\udffe]|\\ud83e\\uddd1\\ud83c\\udffb\\u200d\\u2764\\ufe0f\\u200d\\ud83e\\uddd1\\ud83c[\\udffc-\\udfff]|\\ud83e\\uddd1\\ud83c\\udffb\\u200d\\ud83e\\udd1d\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udfff]|\\ud83e\\uddd1\\ud83c\\udffc\\u200d\\u2764\\ufe0f\\u200d\\ud83e\\uddd1\\ud83c[\\udffb\\udffd-\\udfff]|\\ud83e\\uddd1\\ud83c\\udffc\\u200d\\ud83e\\udd1d\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udfff]|\\ud83e\\uddd1\\ud83c\\udffd\\u200d\\u2764\\ufe0f\\u200d\\ud83e\\uddd1\\ud83c[\\udffb\\udffc\\udffe\\udfff]|\\ud83e\\uddd1\\ud83c\\udffd\\u200d\\ud83e\\udd1d\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udfff]|\\ud83e\\uddd1\\ud83c\\udffe\\u200d\\u2764\\ufe0f\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udffd\\udfff]|\\ud83e\\uddd1\\ud83c\\udffe\\u200d\\ud83e\\udd1d\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udfff]|\\ud83e\\uddd1\\ud83c\\udfff\\u200d\\u2764\\ufe0f\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udffe]|\\ud83e\\uddd1\\ud83c\\udfff\\u200d\\ud83e\\udd1d\\u200d\\ud83e\\uddd1\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc68\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68|\\ud83d\\udc69\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d[\\udc68\\udc69]|\\ud83e\\udef1\\ud83c\\udffb\\u200d\\ud83e\\udef2\\ud83c[\\udffc-\\udfff]|\\ud83e\\udef1\\ud83c\\udffc\\u200d\\ud83e\\udef2\\ud83c[\\udffb\\udffd-\\udfff]|\\ud83e\\udef1\\ud83c\\udffd\\u200d\\ud83e\\udef2\\ud83c[\\udffb\\udffc\\udffe\\udfff]|\\ud83e\\udef1\\ud83c\\udffe\\u200d\\ud83e\\udef2\\ud83c[\\udffb-\\udffd\\udfff]|\\ud83e\\udef1\\ud83c\\udfff\\u200d\\ud83e\\udef2\\ud83c[\\udffb-\\udffe]|\\ud83d\\udc68\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68|\\ud83d\\udc69\\u200d\\u2764\\ufe0f\\u200d\\ud83d[\\udc68\\udc69]|\\ud83e\\uddd1\\u200d\\ud83e\\udd1d\\u200d\\ud83e\\uddd1|\\ud83d\\udc6b\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc6c\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc6d\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc8f\\ud83c[\\udffb-\\udfff]|\\ud83d\\udc91\\ud83c[\\udffb-\\udfff]|\\ud83e\\udd1d\\ud83c[\\udffb-\\udfff]|\\ud83d[\\udc6b-\\udc6d\\udc8f\\udc91]|\\ud83e\\udd1d)|(?:\\ud83d[\\udc68\\udc69]|\\ud83e\\uddd1)(?:\\ud83c[\\udffb-\\udfff])?\\u200d(?:\\u2695\\ufe0f|\\u2696\\ufe0f|\\u2708\\ufe0f|\\ud83c[\\udf3e\\udf73\\udf7c\\udf84\\udf93\\udfa4\\udfa8\\udfeb\\udfed]|\\ud83d[\\udcbb\\udcbc\\udd27\\udd2c\\ude80\\ude92]|\\ud83e[\\uddaf-\\uddb3\\uddbc\\uddbd])|(?:\\ud83c[\\udfcb\\udfcc]|\\ud83d[\\udd74\\udd75]|\\u26f9)((?:\\ud83c[\\udffb-\\udfff]|\\ufe0f)\\u200d[\\u2640\\u2642]\\ufe0f)|(?:\\ud83c[\\udfc3\\udfc4\\udfca]|\\ud83d[\\udc6e\\udc70\\udc71\\udc73\\udc77\\udc81\\udc82\\udc86\\udc87\\ude45-\\ude47\\ude4b\\ude4d\\ude4e\\udea3\\udeb4-\\udeb6]|\\ud83e[\\udd26\\udd35\\udd37-\\udd39\\udd3d\\udd3e\\uddb8\\uddb9\\uddcd-\\uddcf\\uddd4\\uddd6-\\udddd])(?:\\ud83c[\\udffb-\\udfff])?\\u200d[\\u2640\\u2642]\\ufe0f|(?:\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83c\\udff3\\ufe0f\\u200d\\u26a7\\ufe0f|\\ud83c\\udff3\\ufe0f\\u200d\\ud83c\\udf08|\\ud83d\\ude36\\u200d\\ud83c\\udf2b\\ufe0f|\\u2764\\ufe0f\\u200d\\ud83d\\udd25|\\u2764\\ufe0f\\u200d\\ud83e\\ude79|\\ud83c\\udff4\\u200d\\u2620\\ufe0f|\\ud83d\\udc15\\u200d\\ud83e\\uddba|\\ud83d\\udc3b\\u200d\\u2744\\ufe0f|\\ud83d\\udc41\\u200d\\ud83d\\udde8|\\ud83d\\udc68\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc6f\\u200d\\u2640\\ufe0f|\\ud83d\\udc6f\\u200d\\u2642\\ufe0f|\\ud83d\\ude2e\\u200d\\ud83d\\udca8|\\ud83d\\ude35\\u200d\\ud83d\\udcab|\\ud83e\\udd3c\\u200d\\u2640\\ufe0f|\\ud83e\\udd3c\\u200d\\u2642\\ufe0f|\\ud83e\\uddde\\u200d\\u2640\\ufe0f|\\ud83e\\uddde\\u200d\\u2642\\ufe0f|\\ud83e\\udddf\\u200d\\u2640\\ufe0f|\\ud83e\\udddf\\u200d\\u2642\\ufe0f|\\ud83d\\udc08\\u200d\\u2b1b)|[#*0-9]\\ufe0f?\\u20e3|(?:[©®\\u2122\\u265f]\\ufe0f)|(?:\\ud83c[\\udc04\\udd70\\udd71\\udd7e\\udd7f\\ude02\\ude1a\\ude2f\\ude37\\udf21\\udf24-\\udf2c\\udf36\\udf7d\\udf96\\udf97\\udf99-\\udf9b\\udf9e\\udf9f\\udfcd\\udfce\\udfd4-\\udfdf\\udff3\\udff5\\udff7]|\\ud83d[\\udc3f\\udc41\\udcfd\\udd49\\udd4a\\udd6f\\udd70\\udd73\\udd76-\\udd79\\udd87\\udd8a-\\udd8d\\udda5\\udda8\\uddb1\\uddb2\\uddbc\\uddc2-\\uddc4\\uddd1-\\uddd3\\udddc-\\uddde\\udde1\\udde3\\udde8\\uddef\\uddf3\\uddfa\\udecb\\udecd-\\udecf\\udee0-\\udee5\\udee9\\udef0\\udef3]|[\\u203c\\u2049\\u2139\\u2194-\\u2199\\u21a9\\u21aa\\u231a\\u231b\\u2328\\u23cf\\u23ed-\\u23ef\\u23f1\\u23f2\\u23f8-\\u23fa\\u24c2\\u25aa\\u25ab\\u25b6\\u25c0\\u25fb-\\u25fe\\u2600-\\u2604\\u260e\\u2611\\u2614\\u2615\\u2618\\u2620\\u2622\\u2623\\u2626\\u262a\\u262e\\u262f\\u2638-\\u263a\\u2640\\u2642\\u2648-\\u2653\\u2660\\u2663\\u2665\\u2666\\u2668\\u267b\\u267f\\u2692-\\u2697\\u2699\\u269b\\u269c\\u26a0\\u26a1\\u26a7\\u26aa\\u26ab\\u26b0\\u26b1\\u26bd\\u26be\\u26c4\\u26c5\\u26c8\\u26cf\\u26d1\\u26d3\\u26d4\\u26e9\\u26ea\\u26f0-\\u26f5\\u26f8\\u26fa\\u26fd\\u2702\\u2708\\u2709\\u270f\\u2712\\u2714\\u2716\\u271d\\u2721\\u2733\\u2734\\u2744\\u2747\\u2757\\u2763\\u2764\\u27a1\\u2934\\u2935\\u2b05-\\u2b07\\u2b1b\\u2b1c\\u2b50\\u2b55\\u3030\\u303d\\u3297\\u3299])(?:\\ufe0f|(?!\\ufe0e))|(?:(?:\\ud83c[\\udfcb\\udfcc]|\\ud83d[\\udd74\\udd75\\udd90]|[\\u261d\\u26f7\\u26f9\\u270c\\u270d])(?:\\ufe0f|(?!\\ufe0e))|(?:\\ud83c[\\udf85\\udfc2-\\udfc4\\udfc7\\udfca]|\\ud83d[\\udc42\\udc43\\udc46-\\udc50\\udc66-\\udc69\\udc6e\\udc70-\\udc78\\udc7c\\udc81-\\udc83\\udc85-\\udc87\\udcaa\\udd7a\\udd95\\udd96\\ude45-\\ude47\\ude4b-\\ude4f\\udea3\\udeb4-\\udeb6\\udec0\\udecc]|\\ud83e[\\udd0c\\udd0f\\udd18-\\udd1c\\udd1e\\udd1f\\udd26\\udd30-\\udd39\\udd3d\\udd3e\\udd77\\uddb5\\uddb6\\uddb8\\uddb9\\uddbb\\uddcd-\\uddcf\\uddd1-\\udddd\\udec3-\\udec5\\udef0-\\udef6]|[\\u270a\\u270b]))(?:\\ud83c[\\udffb-\\udfff])?|(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc65\\udb40\\udc6e\\udb40\\udc67\\udb40\\udc7f|\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc73\\udb40\\udc63\\udb40\\udc74\\udb40\\udc7f|\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc77\\udb40\\udc6c\\udb40\\udc73\\udb40\\udc7f|\\ud83c\\udde6\\ud83c[\\udde8-\\uddec\\uddee\\uddf1\\uddf2\\uddf4\\uddf6-\\uddfa\\uddfc\\uddfd\\uddff]|\\ud83c\\udde7\\ud83c[\\udde6\\udde7\\udde9-\\uddef\\uddf1-\\uddf4\\uddf6-\\uddf9\\uddfb\\uddfc\\uddfe\\uddff]|\\ud83c\\udde8\\ud83c[\\udde6\\udde8\\udde9\\uddeb-\\uddee\\uddf0-\\uddf5\\uddf7\\uddfa-\\uddff]|\\ud83c\\udde9\\ud83c[\\uddea\\uddec\\uddef\\uddf0\\uddf2\\uddf4\\uddff]|\\ud83c\\uddea\\ud83c[\\udde6\\udde8\\uddea\\uddec\\udded\\uddf7-\\uddfa]|\\ud83c\\uddeb\\ud83c[\\uddee-\\uddf0\\uddf2\\uddf4\\uddf7]|\\ud83c\\uddec\\ud83c[\\udde6\\udde7\\udde9-\\uddee\\uddf1-\\uddf3\\uddf5-\\uddfa\\uddfc\\uddfe]|\\ud83c\\udded\\ud83c[\\uddf0\\uddf2\\uddf3\\uddf7\\uddf9\\uddfa]|\\ud83c\\uddee\\ud83c[\\udde8-\\uddea\\uddf1-\\uddf4\\uddf6-\\uddf9]|\\ud83c\\uddef\\ud83c[\\uddea\\uddf2\\uddf4\\uddf5]|\\ud83c\\uddf0\\ud83c[\\uddea\\uddec-\\uddee\\uddf2\\uddf3\\uddf5\\uddf7\\uddfc\\uddfe\\uddff]|\\ud83c\\uddf1\\ud83c[\\udde6-\\udde8\\uddee\\uddf0\\uddf7-\\uddfb\\uddfe]|\\ud83c\\uddf2\\ud83c[\\udde6\\udde8-\\udded\\uddf0-\\uddff]|\\ud83c\\uddf3\\ud83c[\\udde6\\udde8\\uddea-\\uddec\\uddee\\uddf1\\uddf4\\uddf5\\uddf7\\uddfa\\uddff]|\\ud83c\\uddf4\\ud83c\\uddf2|\\ud83c\\uddf5\\ud83c[\\udde6\\uddea-\\udded\\uddf0-\\uddf3\\uddf7-\\uddf9\\uddfc\\uddfe]|\\ud83c\\uddf6\\ud83c\\udde6|\\ud83c\\uddf7\\ud83c[\\uddea\\uddf4\\uddf8\\uddfa\\uddfc]|\\ud83c\\uddf8\\ud83c[\\udde6-\\uddea\\uddec-\\uddf4\\uddf7-\\uddf9\\uddfb\\uddfd-\\uddff]|\\ud83c\\uddf9\\ud83c[\\udde6\\udde8\\udde9\\uddeb-\\udded\\uddef-\\uddf4\\uddf7\\uddf9\\uddfb\\uddfc\\uddff]|\\ud83c\\uddfa\\ud83c[\\udde6\\uddec\\uddf2\\uddf3\\uddf8\\uddfe\\uddff]|\\ud83c\\uddfb\\ud83c[\\udde6\\udde8\\uddea\\uddec\\uddee\\uddf3\\uddfa]|\\ud83c\\uddfc\\ud83c[\\uddeb\\uddf8]|\\ud83c\\uddfd\\ud83c\\uddf0|\\ud83c\\uddfe\\ud83c[\\uddea\\uddf9]|\\ud83c\\uddff\\ud83c[\\udde6\\uddf2\\uddfc]|\\ud83c[\\udccf\\udd8e\\udd91-\\udd9a\\udde6-\\uddff\\ude01\\ude32-\\ude36\\ude38-\\ude3a\\ude50\\ude51\\udf00-\\udf20\\udf2d-\\udf35\\udf37-\\udf7c\\udf7e-\\udf84\\udf86-\\udf93\\udfa0-\\udfc1\\udfc5\\udfc6\\udfc8\\udfc9\\udfcf-\\udfd3\\udfe0-\\udff0\\udff4\\udff8-\\udfff]|\\ud83d[\\udc00-\\udc3e\\udc40\\udc44\\udc45\\udc51-\\udc65\\udc6a\\udc6f\\udc79-\\udc7b\\udc7d-\\udc80\\udc84\\udc88-\\udc8e\\udc90\\udc92-\\udca9\\udcab-\\udcfc\\udcff-\\udd3d\\udd4b-\\udd4e\\udd50-\\udd67\\udda4\\uddfb-\\ude44\\ude48-\\ude4a\\ude80-\\udea2\\udea4-\\udeb3\\udeb7-\\udebf\\udec1-\\udec5\\uded0-\\uded2\\uded5-\\uded7\\udedd-\\udedf\\udeeb\\udeec\\udef4-\\udefc\\udfe0-\\udfeb\\udff0]|\\ud83e[\\udd0d\\udd0e\\udd10-\\udd17\\udd20-\\udd25\\udd27-\\udd2f\\udd3a\\udd3c\\udd3f-\\udd45\\udd47-\\udd76\\udd78-\\uddb4\\uddb7\\uddba\\uddbc-\\uddcc\\uddd0\\uddde-\\uddff\\ude70-\\ude74\\ude78-\\ude7c\\ude80-\\ude86\\ude90-\\udeac\\udeb0-\\udeba\\udec0-\\udec2\\uded0-\\uded9\\udee0-\\udee7]|[\\u23e9-\\u23ec\\u23f0\\u23f3\\u267e\\u26ce\\u2705\\u2728\\u274c\\u274e\\u2753-\\u2755\\u2795-\\u2797\\u27b0\\u27bf\\ue50a])|\\ufe0f/g\n\nfunction toCodePoint(unicodeSurrogates, sep) {\n    var\n\t\tr = [],\n\t\tc = 0,\n\t\tp = 0,\n\t\ti = 0\n\t\t\n\twhile (i < unicodeSurrogates.length) {\n\t\tc = unicodeSurrogates.charCodeAt(i++)\n\t\tif (p) {\n\t\t\tr.push((0x10000 + ((p - 0xD800) << 10) + (c - 0xDC00)).toString(16))\n\t\t\tp = 0\n\t\t} else if (0xD800 <= c && c <= 0xDBFF) {\n\t\t\tp = c\n\t\t} else {\n\t\t\tr.push(c.toString(16))\n\t\t}\n\t}\n\treturn r.join(sep || '-')\n}\n\n// avoid runtime RegExp creation for not so smart,\n// not JIT based, and old browsers / engines\nvar UFE0Fg = /\\uFE0F/g\n\n// avoid using a string literal like '\\u200D' here because minifiers expand it inline\nvar U200D = String.fromCharCode(0x200D)\n\n/**\n* Used to both remove the possible variant\n*  and to convert utf16 into code points.\n*  If there is a zero-width-joiner (U+200D), leave the variants in.\n* @param   string    the raw text of the emoji match\n*/\nfunction grabTheRightIcon(rawText) {\n\t// if variant is present as \\uFE0F\n\treturn toCodePoint(rawText.indexOf(U200D) < 0 ?\n\t\trawText.replace(UFE0Fg, '') :\n\t\trawText\n\t);\n}\n\nmodule.exports = function replaceEmoji (string, render) {\n\t// Note: the latest regex added an empty matching group, so we ignore it.\n\treturn replaceStringToArray(string, re, function emojiReplacer (match, _, offset) {\n\t\tvar icon = grabTheRightIcon(match)\n\t\treturn render(icon, match, offset)\n\t})\n}\n","var createElement = require('react').createElement\n\nvar pageProtocol = (typeof location === 'undefined') ? '' : ((location.protocol === 'https:') ? 'https:' : 'http:')\n\nvar emojiStyle = {\n\theight: '1em',\n\twidth: '1em',\n\tmargin: '0 .05em 0 .1em',\n\tverticalAlign: '-0.1em'\n}\n\n// Accept protocol with or without a colon\nfunction normalizeProtocol(protocol) {\n\tif (protocol && protocol.length > 0 && protocol.charAt(protocol.length - 1) !== ':') {\n\t\treturn protocol + ':'\n\t}\n\treturn protocol\n}\n\nmodule.exports = function makeTwemojiRenderer(options) {\n\toptions = merge({\n\t\tprotocol: pageProtocol,\n\t\tbaseUrl: '//cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/',\n\t\tsize: '72x72',\n\t\text: '.png',\n\t\tprops: null\n\t}, options)\n\n\treturn function renderTwemoji (icon, match, offset) {\n\t\tvar src = ''\n\t\tif (options.baseUrl.indexOf('http') !== 0) {\n\t\t\tsrc += normalizeProtocol(options.protocol)\n\t\t}\n\n\t\tsrc += options.baseUrl + options.size + '/' + icon + options.ext\n\n\t\treturn createElement(\n\t\t\t'img',\n\t\t\tmerge({\n\t\t\t\tkey: offset,\n\t\t\t\talt: match,\n\t\t\t\tdraggable: false,\n\t\t\t\tsrc: src,\n\t\t\t\tstyle: emojiStyle\n\t\t\t}, options.props)\n\t\t)\n\t}\n}\n\nfunction merge() {\n\tvar out = {}, len = arguments.length\n\tfor(var i = 0; i < len; ++i) {\n\t\tvar source = arguments[i]\n\t\tif (source) {\n\t\t\tfor (var key in source) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(source, key)) {\n\t\t\t\t\tout[key] = source[key]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n   }\n   return out\n}","var replaceEmoji = require('./lib/replaceEmoji'),\n\tmakeTwemojiRenderer = require('./lib/makeTwemojiRenderer')\n\nmodule.exports = function reactEasyEmoji (element, optionsOrFn) {\n\tvar render = (typeof optionsOrFn === 'function') ? optionsOrFn : makeTwemojiRenderer(optionsOrFn)\n\treturn replaceEmoji(element, render)\n}","// @ts-check\n\nimport { useCallback, useRef } from \"react\";\nimport { renderToString } from 'react-dom/server'\nimport emoji from 'react-easy-emoji'\nimport { removeHtmlExceptBr } from \"../utils/input-event-utils\";\n\nconst EMOJI_REGEX = new RegExp(\n  /(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*/g\n)\n\n/**\n * @typedef {import('../types/types').SanitizeFn} SanitizeFn\n */\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * @param {boolean} shouldReturn\n * @param {boolean} shouldConvertEmojiToImage\n */\nexport function useSanitize(shouldReturn, shouldConvertEmojiToImage) {\n  /** @type {React.MutableRefObject<SanitizeFn[]>} */\n  const sanitizeFnsRef = useRef([]);\n\n  const sanitizedTextRef = useRef(\"\");\n\n  /** @type {(fn: SanitizeFn) => void} */\n  const addSanitizeFn = useCallback(fn => {\n    sanitizeFnsRef.current.push(fn);\n  }, []);\n\n  /** @type {(html: string) => string} */\n  const sanitize = useCallback(html => {\n    let result = sanitizeFnsRef.current.reduce((acc, fn) => {\n      return fn(acc);\n    }, html);\n\n    result = replaceAllHtmlToString(result, shouldReturn);\n\n    if (shouldConvertEmojiToImage) {\n      result = convertEmojiToImage(result);\n    }\n\n    sanitizedTextRef.current = result;\n\n    return result;\n  }, [shouldReturn, shouldConvertEmojiToImage]);\n\n  return { addSanitizeFn, sanitize, sanitizedTextRef };\n}\n\n/**\n *\n * @param {string} html\n * @param {boolean} shouldReturn\n * @return {string}\n */\nexport function replaceAllHtmlToString(html, shouldReturn) {\n  const container = document.createElement(\"div\");\n  container.innerHTML = html;\n  let text\n  if(shouldReturn) {\n    text = removeHtmlExceptBr(container)\n  } else {\n    text = container.innerText || \"\";\n  }\n\n  // remove all ↵ for safari\n  text = text.replace(/\\n/gi, \"\");\n\n  return text;\n}\n\n/**\n * \n * @param {string} text \n * @return {string}\n */\nfunction convertEmojiToImage(text) {\n  text = handleEmoji(text)\n  text = renderToString(emoji(text))\n  text = text.replace(\n    new RegExp('&lt;span class=&quot;message-emoji&quot;&gt;', 'g'),\n    '<span class=\"message-emoji\">'\n  )\n  text = text.replace(new RegExp('&lt;/span&gt;', 'g'), '</span>')\n  \n  return text  \n}\n\n/**\n * \n * @param {string} text \n * @return {string}\n */\nfunction handleEmoji (text) {\n  return text.replace(EMOJI_REGEX, '<span class=\"message-emoji\">$&</span>')\n}\n","// @ts-check\n\nimport { useImperativeHandle } from \"react\";\nimport { useSanitize } from \"./use-sanitize\";\n\n/**\n * @typedef {Object} Props\n * @property {React.Ref<any>} ref\n * @property {React.MutableRefObject<import('../text-input').Ref | null>} textInputRef\n * @property {(value: string) => void} setValue\n * @property {() => void} emitChange\n * @property {boolean=} shouldConvertEmojiToImage\n */\n\n/**\n *\n * @param {Props} props\n */\nexport function useExpose({ ref, textInputRef, setValue, emitChange, shouldConvertEmojiToImage }) {\n  const { sanitize, sanitizedTextRef } = useSanitize(false, shouldConvertEmojiToImage);\n\n  useImperativeHandle(ref, () => ({\n    get value() {\n      return sanitizedTextRef.current;\n    },\n    set value(value) {\n      setValue(value);\n    },\n    focus: () => {\n      if (textInputRef.current === null) return\n      textInputRef.current.focus();\n    },\n    blur: () => {\n      if (textInputRef.current !== null) {\n        sanitize(textInputRef.current.html);\n\n      }\n\n      emitChange();\n    }\n  }));\n}\n","// @ts-check\n\nimport { useCallback, useEffect, useRef } from \"react\";\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * useEmit\n * @param {React.MutableRefObject<import('../text-input').Ref | null>} textInputRef\n * @param {(size: {width: number, height: number}) => void} onResize\n * @param {(text: string) => void} onChange\n */\nexport function useEmit(textInputRef, onResize, onChange) {\n  /** @type {React.MutableRefObject<{width: number; height: number} | null>} */\n  const currentSizeRef = useRef(null);\n  const onChangeFn = useRef(onChange);\n\n  const checkAndEmitResize = useCallback(() => {\n    if (textInputRef.current !== null) {\n      const currentSize = currentSizeRef.current;\n\n      const nextSize = textInputRef.current.size;\n\n      if (\n        (!currentSize ||\n          currentSize.width !== nextSize.width ||\n          currentSize.height !== nextSize.height) &&\n        typeof onResize === \"function\"\n      ) {\n        onResize(nextSize);\n      }\n\n      currentSizeRef.current = nextSize;\n    }\n  }, [onResize, textInputRef]);\n\n  const emitChange = useCallback((sanitizedText) => {\n    if (typeof onChangeFn.current === \"function\") {\n      onChangeFn.current(sanitizedText);\n    }\n\n    if (typeof onResize === \"function\") {\n      checkAndEmitResize();\n    }\n  }, [checkAndEmitResize, onResize]);\n\n  useEffect(() => {\n    if (textInputRef.current) {\n      checkAndEmitResize();\n    }\n  }, [checkAndEmitResize, textInputRef]);\n\n  return emitChange;\n}\n","// @ts-check\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * @template T\n * @returns {import('../types/types').ListenerObj<T>}\n */\nexport function createObserver() {\n  /** @type {import('../types/types').Listerner<T>[]} */\n  let listeners = [];\n\n  return {\n    subscribe: listener => {\n      listeners.push(listener);\n      return () => {\n        listeners = listeners.filter(l => l !== listener);\n      };\n    },\n    publish: event => {\n      listeners.forEach(listener => listener(event));\n    },\n    get currentListerners() {\n      return listeners;\n    }\n  };\n}\n","// @ts-check\n\nimport { useCallback, useMemo } from \"react\";\nimport { createObserver } from \"../utils/observer\";\n\n/**\n * @typedef {import('../types/types').TextInputListeners} TextInputListeners\n */\n\n// eslint-disable-next-line valid-jsdoc\n/** */\nexport function useEventListeners() {\n  /** @type {TextInputListeners} */\n  const listeners = useMemo(\n    () => ({\n      keyDown: createObserver(),\n      keyUp: createObserver(),\n      arrowUp: createObserver(),\n      arrowDown: createObserver(),\n      enter: createObserver(),\n      focus: createObserver(),\n      blur: createObserver()\n    }),\n    []\n  );\n\n  /**\n   * @template {keyof TextInputListeners} T, K\n   * @type {(event: keyof TextInputListeners, fn: import('../types/types').Listerner<any>) => () => void}\n   */\n  const addEventListener = useCallback(\n    (event, fn) => {\n      return listeners[event].subscribe(fn);\n    },\n    [listeners]\n  );\n\n  return { addEventListener, listeners };\n}\n","// @ts-check\n\nimport { useCallback, useRef } from \"react\";\n\n/**\n * @typedef {import('../types/types').PolluteFn} PolluteFn\n */\n\n// eslint-disable-next-line valid-jsdoc\n/** */\nexport function usePollute() {\n  /** @type {React.MutableRefObject<PolluteFn[]>} */\n  const polluteFnsRef = useRef([]);\n\n  /** @type {(fn: PolluteFn) => void} */\n  const addPolluteFn = useCallback(fn => {\n    polluteFnsRef.current.push(fn);\n  }, []);\n\n  /** @type {(html: string) => string} */\n  const pollute = useCallback(text => {\n    const result = polluteFnsRef.current.reduce((acc, fn) => {\n      return fn(acc);\n    }, text);\n\n    return result;\n  }, []);\n\n  return { addPolluteFn, pollute };\n}\n","// @ts-check\n// vendors\nimport React, { useEffect, useRef, forwardRef, useCallback } from \"react\";\n\n// css\nimport \"./styles.css\";\n\n// utils\nimport { replaceAllTextEmojis } from \"./utils/emoji-utils\";\nimport { handleCopy, totalCharacters } from \"./utils/input-event-utils\";\n\n// hooks\nimport { useExpose } from \"./hooks/use-expose\";\nimport { useEmit } from \"./hooks/use-emit\";\n\n// components\nimport TextInput from \"./text-input\";\nimport EmojiPickerWrapper from \"./components/emoji-picker-wrapper\";\nimport MentionWrapper from \"./components/mention-wrapper\";\nimport { useEventListeners } from \"./hooks/use-event-listeners\";\nimport { useSanitize } from \"./hooks/use-sanitize\";\nimport { usePollute } from \"./hooks/user-pollute\";\n\n/**\n * @typedef {import('./types/types').MentionUser} MetionUser\n */\n\n/**\n * @typedef {import('./types/types').ListenerObj<any>} ListenerObj\n */\n\n/**\n * @typedef {object} Props\n * @property {string} value\n * @property {(value: string) => void} onChange\n * @property {\"light\" | \"dark\" | \"auto\"=} theme\n * @property {boolean=} cleanOnEnter\n * @property {(text: string) => void=} onEnter\n * @property {string=} placeholder\n * @property {string=} placeholderColor\n * @property {string=} color\n * @property {(size: {width: number, height: number}) => void=} onResize\n * @property {() => void=} onClick\n * @property {() => void=} onFocus\n * @property {() => void=} onBlur\n * @property {boolean} shouldReturn\n * @property {number=} maxLength\n * @property {boolean=} keepOpened\n * @property {(event: KeyboardEvent) => void=} onKeyDown\n * @property {string=} inputClass\n * @property {boolean=} disableRecent\n * @property {number=} tabIndex\n * @property {number=} height\n * @property {number=} borderRadius\n * @property {string=} borderColor\n * @property {number=} fontSize\n * @property {string=} fontFamily\n * @property {string=} background\n * @property {{id: string; name: string; emojis: {id: string; name: string; keywords: string[], skins: {src: string}[]}}[]=} customEmojis\n * @property {import('./types/types').Languages=} language\n * @property {(text: string) => Promise<MetionUser[]>=} searchMention\n * @property {HTMLDivElement=} buttonElement\n * @property {React.MutableRefObject=} buttonRef\n * @property {boolean} shouldConvertEmojiToImage\n */\n\n/**\n * Input Emoji Component\n * @param {Props} props\n * @param {React.Ref<any>} ref\n * @return {JSX.Element}\n */\nfunction InputEmoji(props, ref) {\n  const {\n    onChange,\n    onEnter,\n    onResize,\n    onClick,\n    onFocus,\n    onBlur,\n    onKeyDown,\n    theme,\n    cleanOnEnter,\n    placeholder,\n    maxLength,\n    keepOpened,\n    inputClass,\n    disableRecent,\n    tabIndex,\n    value,\n    customEmojis,\n    language,\n    searchMention,\n    buttonElement,\n    buttonRef,\n    shouldReturn,\n    shouldConvertEmojiToImage,\n    // style\n    borderRadius,\n    borderColor,\n    fontSize,\n    fontFamily,\n    background,\n    placeholderColor,\n    color,\n  } = props;\n\n  /** @type {React.MutableRefObject<import('./text-input').Ref | null>} */\n  const textInputRef = useRef(null);\n\n  const { addEventListener, listeners } = useEventListeners();\n\n  const { addSanitizeFn, sanitize, sanitizedTextRef } = useSanitize(shouldReturn, shouldConvertEmojiToImage);\n\n  const { addPolluteFn, pollute } = usePollute();\n\n  const updateHTML = useCallback(\n    (nextValue = \"\") => {\n      if (textInputRef.current === null) return;\n\n      textInputRef.current.html = replaceAllTextEmojis(nextValue);\n      sanitizedTextRef.current = nextValue;\n    },\n    [sanitizedTextRef]\n  );\n\n  const setValue = useCallback(\n    /**\n     * \n     * @param {string} value\n     */\n    (value) => {\n      updateHTML(value);\n    },\n    [updateHTML]\n  );\n\n  const emitChange = useEmit(textInputRef, onResize, onChange);\n\n  useExpose({\n    ref,\n    setValue,\n    textInputRef,\n    emitChange,\n    shouldConvertEmojiToImage\n  });\n\n  useEffect(() => {\n    if (sanitizedTextRef.current !== value) {\n      setValue(value);\n    }\n  }, [sanitizedTextRef, setValue, value]);\n\n  // useEffect(() => {\n  //   updateHTML();\n  // }, [updateHTML]);\n\n  useEffect(() => {\n    /**\n     * Handle keydown event\n     * @param {React.KeyboardEvent} event\n     * @return {boolean}\n     */\n    function handleKeydown(event) {\n      if (\n        typeof maxLength !== \"undefined\" &&\n        event.key !== \"Backspace\" &&\n        textInputRef.current !== null &&\n        totalCharacters(textInputRef.current) >= maxLength\n      ) {\n        event.preventDefault();\n      }\n\n      if (event.key === \"Enter\" && textInputRef.current) {\n        event.preventDefault();\n\n        const text = sanitize(textInputRef.current.html);\n\n        emitChange(sanitizedTextRef.current);\n\n        if (\n          typeof onEnter === \"function\" &&\n          listeners.enter.currentListerners.length === 0\n        ) {\n          onEnter(text);\n        }\n\n        if (cleanOnEnter && listeners.enter.currentListerners.length === 0) {\n          updateHTML(\"\");\n        }\n\n        if (typeof onKeyDown === \"function\") {\n          onKeyDown(event.nativeEvent);\n        }\n\n        return false;\n      }\n\n      if (typeof onKeyDown === \"function\") {\n        onKeyDown(event.nativeEvent);\n      }\n\n      return true;\n    }\n\n    const unsubscribe = addEventListener(\"keyDown\", handleKeydown);\n\n    return () => {\n      unsubscribe();\n    };\n  }, [\n    addEventListener,\n    cleanOnEnter,\n    emitChange,\n    listeners.enter.currentListerners.length,\n    maxLength,\n    onEnter,\n    onKeyDown,\n    sanitize,\n    sanitizedTextRef,\n    updateHTML\n  ]);\n\n  useEffect(() => {\n    /** */\n    function handleFocus() {\n      if (typeof onClick === \"function\") {\n        onClick();\n      }\n\n      if (typeof onFocus === \"function\") {\n        onFocus();\n      }\n    }\n\n    const unsubscribe = addEventListener(\"focus\", handleFocus);\n\n    return () => {\n      unsubscribe();\n    };\n  }, [addEventListener, onClick, onFocus]);\n\n  useEffect(() => {\n    /** */\n    function handleBlur() {\n      if (typeof onBlur === \"function\") {\n        onBlur();\n      }\n    }\n\n    const unsubscribe = addEventListener(\"blur\", handleBlur);\n\n    return () => {\n      unsubscribe();\n    };\n  }, [addEventListener, onBlur]);\n\n  /**\n   *\n   * @param {string} html\n   */\n  function handleTextInputChange(html) {\n    sanitize(html);\n\n    if (value !== sanitizedTextRef.current) {\n      emitChange(sanitizedTextRef.current);\n    }\n  }\n\n  /**\n   *\n   * @param {string} html\n   */\n  function appendContent(html) {\n    if (\n      typeof maxLength !== \"undefined\" &&\n      textInputRef.current !== null &&\n      totalCharacters(textInputRef.current) >= maxLength\n    ) {\n      return;\n    }\n\n    if (textInputRef.current !== null) {\n      textInputRef.current.appendContent(html);\n    }\n  }\n\n  /**\n   * Handle past on input\n   * @param {React.ClipboardEvent} event\n   */\n  function handlePaste(event) {\n    event.preventDefault();\n    let content;\n    if (event.clipboardData) {\n      content = event.clipboardData.getData(\"text/plain\");\n      content = pollute(content);\n      document.execCommand(\"insertHTML\", false, content);\n    }\n  }\n\n  return (\n    <div className=\"vinnu-react-emoji\">\n      {/* <EmojiPickerWrapper\n        theme={theme}\n        keepOpened={keepOpened}\n        disableRecent={disableRecent}\n        customEmojis={customEmojis}\n        addSanitizeFn={addSanitizeFn}\n        addPolluteFn={addPolluteFn}\n        appendContent={appendContent}\n        buttonElement={buttonElement}\n        buttonRef={buttonRef}\n        language={language}\n      />\n      <MentionWrapper\n        searchMention={searchMention}\n        addEventListener={addEventListener}\n        appendContent={appendContent}\n        addSanitizeFn={addSanitizeFn}\n      /> */}\n{/* \n      <TextInput\n        ref={textInputRef}\n        onCopy={handleCopy}\n        onPaste={handlePaste}\n        shouldReturn={shouldReturn}\n        onBlur={listeners.blur.publish}\n        onFocus={listeners.focus.publish}\n        onArrowUp={listeners.arrowUp.publish}\n        onArrowDown={listeners.arrowDown.publish}\n        onKeyUp={listeners.keyUp.publish}\n        onKeyDown={listeners.keyDown.publish}\n        onEnter={listeners.enter.publish}\n        placeholder={placeholder}\n        style={{\n          borderRadius,\n          borderColor,\n          fontSize,\n          fontFamily,\n          background,\n          placeholderColor,\n          color\n        }}\n        tabIndex={tabIndex}\n        className={inputClass}\n        onChange={handleTextInputChange}\n      /> */}\n      \n    </div>\n  );\n}\n\nconst InputEmojiWithRef = forwardRef(InputEmoji);\n\nInputEmojiWithRef.defaultProps = {\n  theme: /** @type {const} */ (\"auto\"),\n  height: 30,\n  placeholder: \"Type a message\",\n  borderRadius: 21,\n  borderColor: \"#EAEAEA\",\n  color: \"black\",\n  fontSize: 15,\n  fontFamily: \"sans-serif\",\n  background: \"white\",\n  tabIndex: 0,\n  shouldReturn: false,\n  shouldConvertEmojiToImage: false,\n  customEmojis: [],\n  language: undefined,\n};\n\nexport default InputEmojiWithRef;\n"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","TRANSPARENT_GIF","replaceAllTextEmojis","text","allEmojis","getAllEmojisFromText","_toConsumableArray","Set","forEach","emoji","replaceAll","getInputEmojiHTML","str","find","replace","RegExp","match","concat","totalCharacters","_ref2","html","textCount","length","emojisCount","removeHtmlExceptBr","inputDiv","temp","innerHTML","tempContainer","stripped","innerText","final","string","regexpOrSubstr","newValueOrFn","globalOffset","Error","fn","replaceUsingString","replaceUsingRegexp","patternString","index","indexOf","arr","endIndex","push","substring","regexp","output","replacerIsFn","storedLastIndex","lastIndex","result","exec","out","apply","input","global","module","stringReplaceToArray","stringOrArray","newSubStrOrFn","Array","isArray","TypeError","len","i","arrayItem","re","toCodePoint","unicodeSurrogates","sep","r","c","p","charCodeAt","toString","join","UFE0Fg","U200D","String","fromCharCode","grabTheRightIcon","rawText","replaceEmoji","render","replaceStringToArray","emojiReplacer","_","offset","icon","require","pageProtocol","location","protocol","emojiStyle","height","width","margin","verticalAlign","normalizeProtocol","charAt","makeTwemojiRenderer","options","merge","baseUrl","size","ext","props","renderTwemoji","src","key","alt","draggable","arguments","source","Object","prototype","hasOwnProperty","call","reactEasyEmoji","element","optionsOrFn","EMOJI_REGEX","useSanitize","shouldReturn","shouldConvertEmojiToImage","sanitizeFnsRef","useRef","sanitizedTextRef","addSanitizeFn","useCallback","current","sanitize","reduce","acc","replaceAllHtmlToString","convertEmojiToImage","container","handleEmoji","renderToString","useExpose","_ref","textInputRef","setValue","emitChange","_useSanitize","useImperativeHandle","value","focus","blur","useEmit","onResize","onChange","currentSizeRef","onChangeFn","checkAndEmitResize","currentSize","nextSize","sanitizedText","useEffect","createObserver","listeners","subscribe","listener","filter","l","publish","event","currentListerners","useEventListeners","useMemo","keyDown","keyUp","arrowUp","arrowDown","enter","addEventListener","usePollute","polluteFnsRef","addPolluteFn","pollute","InputEmoji","onEnter","onClick","onFocus","onBlur","onKeyDown","theme","cleanOnEnter","placeholder","maxLength","keepOpened","inputClass","disableRecent","tabIndex","customEmojis","language","searchMention","buttonElement","buttonRef","borderRadius","borderColor","fontSize","fontFamily","background","placeholderColor","color","_useEventListeners","updateHTML","nextValue","undefined","handleKeydown","preventDefault","nativeEvent","unsubscribe","handleFocus","handleBlur","React","className","InputEmojiWithRef","forwardRef","defaultProps"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}